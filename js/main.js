!function e(i,s,l){function a(n,t){if(!s[n]){if(!i[n]){var r="function"==typeof require&&require;if(!t&&r)return r(n,!0);if(d)return d(n,!0);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}var o=s[n]={exports:{}};i[n][0].call(o.exports,function(e){var s=i[n][1][e];return a(s?s:e)},o,o.exports,e,i,s,l)}return s[n].exports}for(var d="function"==typeof require&&require,n=0;n<l.length;n++)a(l[n]);return a}({1:[function(e,i,s){"use strict";var l=e("./weeks");$(window).ready(function(){function e(e){var i=e?moment().week(e):moment(),s=i.isoWeekday(1).format("DD"),l=i.isoWeekday(7).format("DD"),a=i.format("MM");$(".item-week").html("Week "+s+"-"+l+"."+a)}$("body").append('<div id="slider-popup"></div>');var i=$("#slider-popup"),s=void 0;$(".on-btn").click(function(){if("none"==(s=document.getElementById("box").style.display)){document.getElementById("box").style.display="block",$(".flexslider").flexslider({animation:"slide",slideshow:!1,controlNav:!1,controlsContainer:$(".custom-controls-container"),customDirectionNav:$(".custom-navigation a"),keyboard:!1,animationLoop:!0,after:function(e){e.currentSlide==e.last&&((0,l.addLastWeekSlide)($(".flexslider")),console.log("last transition ended?"))}});var e=moment().isoWeekday(),a=void 0;switch(e){case 1:a=".monday";break;case 2:a=".tuesday";break;case 3:a=".wednesday";break;case 4:a=".thursday";break;case 5:a=".friday";break;case 6:a=".saturday";break;case 7:a=".sunday"}(0,l.initSlider)($(".flex-active-slide").find(a),!0,i),$(".flex-active-slide").find(a).addClass("active-slider")}else"block"==s&&(document.getElementById("box").style.display="none")}),$(".close-button").click(function(){document.getElementById("box").style.display="none"}),$(".switch-on").click(l.daytimeSliderChanges),$(".switch-off").click(l.daytimeSliderChanges);var a=moment().week(),d=moment().week();e(d),d==a?($(".flex-prev").hide(),$(".flex-prev-block").show()):($(".flex-prev-block").hide(),$(".flex-prev").show()),$(".flex-next").click(function(){$(".flex-prev").show(),$(".flex-prev-block").hide();var i=(0,l.getItems)().index($(".flex-active-slide"));console.log(i),d==a?d=a+1:d==n?d=n+1:d+=1,e(d)});var n,t=d;$(".flex-prev").click(function(){if(d==a)return!1;d-=1,t=d,t==a?($(".flex-prev").hide(),$(".flex-prev-block").show()):($(".flex-prev").show(),$(".flex-prev-block").hide()),e(d),n=d}),$(".default-wrap").click(function(){$(".wednesday").addClass("twoHandles"),$(this).click(function(){$(".wednesday").slider({values:[13,14,15]})})})})},{"./weeks":2}],2:[function(e,i,s){"use strict";function l(e,i,s,l){console.log(e),e.slider({orientation:"vertical",min:i?4:0,max:i?14:23,value:l?l:23-(moment().hour()+1),step:1,animate:!0,start:function(e,i){var l=23-i.value;s.text(l),s.show(),s.css("top",i.handle.getBoundingClientRect().top-10),s.css("left",i.handle.getBoundingClientRect().left+30)},slide:function(e,i){var l=23-i.value;s.text(l),s.css("top",i.handle.getBoundingClientRect().top-10),s.css("left",i.handle.getBoundingClientRect().left+30),$(".contentSlider").html(l+" hour")},stop:function(){s.hide()}})}function a(){return $(".flexslider .slides .item:not(.clone)")}function d(e){var i=e.data("flexslider");console.log(i);var s=$('<li class="item">\n                                new\n                                <div class="item-week">\n                                </div>\n                                <div class="scale-wrapper">\n                                    <ul class="list-scale-wrap">\n                                        <li class="times-wrap-left">\n                                            <div class="time-min">00</div>\n                                            <div class="time-max">24</div>\n                                        </li>\n                                        <li class="scale-item">\n                                            <div class="day">Mon</div>\n                                            <div class="add-times-left">\n                                                <div class="default-wrap">\n                                                    <div class="monday default-slider slide-active"></div>\n                                                </div>\n                                            </div>\n                                        </li>\n                                        <li class="scale-item">\n                                            <div class="day">Tue</div>\n                                            <div class="default-wrap">\n                                                <div class="default-slider  tuesday"></div>\n                                            </div>\n                                        </li>\n                                        <li class="scale-item">\n                                            <div class="day">Wed</div>\n                                            <div class="default-wrap">\n                                                <div class="default-slider wednesday"></div>\n                                            </div>\n                                        </li>\n                                        <li class="scale-item">\n                                            <div class="day">Th</div>\n                                            <div></div>\n                                            <div class="default-wrap">\n                                                <div class="default-slider thursday"></div>\n                                            </div>\n                                        </li>\n                                        <li class="scale-item">\n                                            <div class="day">Fr</div>\n                                            <div class="default-wrap">\n                                                <div class="default-slider  friday"></div>\n                                            </div>\n                                        </li>\n                                        <li class="scale-item">\n                                            <div class="day">Sat</div>\n                                            <div class="default-wrap">\n                                                <div class="default-slider  saturday"></div>\n                                            </div>\n                                        </li>\n                                        <li class="scale-item">\n                                            <div class="day">Sun</div>\n                                            <div class="add-times-right">\n                                                <div class="default-wrap">\n                                                    <div class="default-slider  sunday"></div>\n                                                </div>\n                                            </div>\n                                        </li>\n                                        <li class="times-wrap-right">\n                                            <div class="time-min">00</div>\n                                            <div class="time-max">24</div>\n                                        </li>\n                                    </ul>\n                                </div>\n                            </li>');i.addSlide(s),console.log(i)}function n(){t?($(".switch-on").removeClass("active"),$(".switch-off").addClass("active"),$(".default-wrap").addClass("slide-wrap"),$(".default-slider").addClass("slider"),$(".slider").removeClass("default-slider"),$(".slider").slider({min:0,max:23}),t=!1):0==t&&($(".switch-off").removeClass("active"),$(".switch-on").addClass("active"),$(".slide-wrap").addClass("default-wrap"),$(".default-wrap").removeClass("slide-wrap"),$(".slider").addClass("default-slider"),$(".default-slider").removeClass("slider"),$(".default-slider").slider({min:4,max:14}),t=!0)}Object.defineProperty(s,"__esModule",{value:!0}),s.initSlider=l,s.getItems=a,s.addLastWeekSlide=d,s.daytimeSliderChanges=n;var t=!0},{}]},{},[1]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiZSIsInQiLCJuIiwiciIsInMiLCJvIiwidSIsImEiLCJyZXF1aXJlIiwiaSIsImYiLCJFcnJvciIsImNvZGUiLCJsIiwiZXhwb3J0cyIsImNhbGwiLCJsZW5ndGgiLCIxIiwibW9kdWxlIiwiX3dlZWtzIiwiJCIsIndpbmRvdyIsInJlYWR5Iiwic2V0V2Vla1RleHQiLCJ3ZWVrIiwibSIsIm1vbWVudCIsIm1vbmRheSIsImlzb1dlZWtkYXkiLCJmb3JtYXQiLCJzdW5kYXkiLCJ0aGlzTW9udGgiLCJodG1sIiwiYXBwZW5kIiwic2xpZGVyUG9wdXAiLCJkaXNwbGF5IiwiY2xpY2siLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwic3R5bGUiLCJmbGV4c2xpZGVyIiwiYW5pbWF0aW9uIiwic2xpZGVzaG93IiwiY29udHJvbE5hdiIsImNvbnRyb2xzQ29udGFpbmVyIiwiY3VzdG9tRGlyZWN0aW9uTmF2Iiwia2V5Ym9hcmQiLCJhbmltYXRpb25Mb29wIiwiYWZ0ZXIiLCJjdHgiLCJjdXJyZW50U2xpZGUiLCJsYXN0IiwiYWRkTGFzdFdlZWtTbGlkZSIsImNvbnNvbGUiLCJsb2ciLCJkYXkiLCJhY3RpdmVFbGVtIiwiaW5pdFNsaWRlciIsImZpbmQiLCJhZGRDbGFzcyIsImRheXRpbWVTbGlkZXJDaGFuZ2VzIiwidGhpc1dlZWsiLCJoaWRlIiwic2hvdyIsInNsaWRlSW5kZXgiLCJnZXRJdGVtcyIsImluZGV4IiwicHJldldlZWsiLCJ0aGVXZWVrIiwidGhpcyIsInNsaWRlciIsInZhbHVlcyIsIi4vd2Vla3MiLCIyIiwic2VsZWN0b3IiLCJkYXl0aW1lX29uIiwidmFsdWUiLCJvcmllbnRhdGlvbiIsIm1pbiIsIm1heCIsImhvdXIiLCJzdGVwIiwiYW5pbWF0ZSIsInN0YXJ0IiwidWkiLCJ2IiwidGV4dCIsImNzcyIsImhhbmRsZSIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInRvcCIsImxlZnQiLCJzbGlkZSIsInN0b3AiLCJkYXRhIiwidGVtcGxhdGUiLCJhZGRTbGlkZSIsInJlbW92ZUNsYXNzIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiXSwibWFwcGluZ3MiOiJDQUFBLFFBQVVBLEdBQUVDLEVBQUVDLEVBQUVDLEdBQUcsUUFBU0MsR0FBRUMsRUFBRUMsR0FBRyxJQUFJSixFQUFFRyxHQUFHLENBQUMsSUFBSUosRUFBRUksR0FBRyxDQUFDLEdBQUlFLEdBQWtCLGtCQUFUQyxVQUFxQkEsT0FBUSxLQUFJRixHQUFHQyxFQUFFLE1BQU9BLEdBQUVGLEdBQUUsRUFBSSxJQUFHSSxFQUFFLE1BQU9BLEdBQUVKLEdBQUUsRUFBSSxJQUFJSyxHQUFFLEdBQUlDLE9BQU0sdUJBQXVCTixFQUFFLElBQUssTUFBTUssR0FBRUUsS0FBSyxtQkFBbUJGLEVBQUUsR0FBSUcsR0FBRVgsRUFBRUcsSUFBSVMsV0FBWWIsR0FBRUksR0FBRyxHQUFHVSxLQUFLRixFQUFFQyxRQUFRLFNBQVNkLEdBQUcsR0FBSUUsR0FBRUQsRUFBRUksR0FBRyxHQUFHTCxFQUFHLE9BQU9JLEdBQUVGLEVBQUVBLEVBQUVGLElBQUlhLEVBQUVBLEVBQUVDLFFBQVFkLEVBQUVDLEVBQUVDLEVBQUVDLEdBQUcsTUFBT0QsR0FBRUcsR0FBR1MsUUFBa0QsSUFBSSxHQUExQ0wsR0FBa0Isa0JBQVRELFVBQXFCQSxRQUFnQkgsRUFBRSxFQUFFQSxFQUFFRixFQUFFYSxPQUFPWCxJQUFJRCxFQUFFRCxFQUFFRSxHQUFJLE9BQU9ELEtBQUthLEdBQUcsU0FBU1QsRUFBUVUsRUFBT0osR0FDdmQsWUFFQSxJQUFJSyxHQUFTWCxFQUFRLFVBRXJCWSxHQUFFQyxRQUFRQyxNQUFNLFdBNEVaLFFBQVNDLEdBQVlDLEdBQ2pCLEdBQUlDLEdBQUlELEVBQU9FLFNBQVNGLEtBQUtBLEdBQVFFLFNBQ2pDQyxFQUFTRixFQUFFRyxXQUFXLEdBQUdDLE9BQU8sTUFDaENDLEVBQVNMLEVBQUVHLFdBQVcsR0FBR0MsT0FBTyxNQUNoQ0UsRUFBWU4sRUFBRUksT0FBTyxLQUN6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QUFhLEdBQ1EsR0FBZEEsSUFDUHZELEVBQUUsZUFBZTZFLFlBQVksVUFDN0I3RSxFQUFFLGNBQWN1QyxTQUFTLFVBQ3pCdkMsRUFBRSxlQUFldUMsU0FBUyxnQkFDMUJ2QyxFQUFFLGlCQUFpQjZFLFlBQVksY0FDL0I3RSxFQUFFLFdBQVd1QyxTQUFTLGtCQUN0QnZDLEVBQUUsbUJBQW1CNkUsWUFBWSxVQUVqQzdFLEVBQUUsbUJBQW1Ca0QsUUFDakJRLElBQUssRUFDTEMsSUFBSyxLQUdUSixHQUFhLEdBN0VyQnVCLE9BQU9DLGVBQWVyRixFQUFTLGNBQzNCOEQsT0FBTyxJQUVYOUQsRUFBUTJDLFdBQWFBLEVBQ3JCM0MsRUFBUW1ELFNBQVdBLEVBQ25CbkQsRUFBUXNDLGlCQUFtQkEsRUFDM0J0QyxFQUFROEMscUJBQXVCQSxDQTJDL0IsSUFBSWUsSUFBYSxZQWdDTiIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkoezE6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgX3dlZWtzID0gcmVxdWlyZSgnLi93ZWVrcycpO1xuXG4kKHdpbmRvdykucmVhZHkoZnVuY3Rpb24gKCkge1xuICAgIHZhciBkYXl0aW1lX29uID0gdHJ1ZTtcbiAgICAkKCdib2R5JykuYXBwZW5kKCc8ZGl2IGlkPVwic2xpZGVyLXBvcHVwXCI+PC9kaXY+Jyk7XG4gICAgdmFyIHNsaWRlclBvcHVwID0gJCgnI3NsaWRlci1wb3B1cCcpO1xuXG4gICAgLy8gIE9QRU4gV0lER0VUXG4gICAge1xuICAgICAgICB2YXIgZGlzcGxheSA9IHZvaWQgMDtcbiAgICAgICAgJCgnLm9uLWJ0bicpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGRpc3BsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYm94Jykuc3R5bGUuZGlzcGxheTtcbiAgICAgICAgICAgIGlmIChkaXNwbGF5ID09ICdub25lJykge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdib3gnKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcblxuICAgICAgICAgICAgICAgICQoJy5mbGV4c2xpZGVyJykuZmxleHNsaWRlcih7XG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbjogJ3NsaWRlJyxcbiAgICAgICAgICAgICAgICAgICAgc2xpZGVzaG93OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbE5hdjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xzQ29udGFpbmVyOiAkKCcuY3VzdG9tLWNvbnRyb2xzLWNvbnRhaW5lcicpLFxuICAgICAgICAgICAgICAgICAgICBjdXN0b21EaXJlY3Rpb25OYXY6ICQoJy5jdXN0b20tbmF2aWdhdGlvbiBhJyksXG4gICAgICAgICAgICAgICAgICAgIGtleWJvYXJkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uTG9vcDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgYWZ0ZXI6IGZ1bmN0aW9uIGFmdGVyKGN0eCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN0eC5jdXJyZW50U2xpZGUgPT0gY3R4Lmxhc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoMCwgX3dlZWtzLmFkZExhc3RXZWVrU2xpZGUpKCQoJy5mbGV4c2xpZGVyJykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdsYXN0IHRyYW5zaXRpb24gZW5kZWQ/Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIC8vIFNldCBDdXJyZW50IGRheSBzbGlkZXIgYWN0aXZlLCB3aXRoIG9uZSB2YWx1ZVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRheSA9IG1vbWVudCgpLmlzb1dlZWtkYXkoKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFjdGl2ZUVsZW0gPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoZGF5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlRWxlbSA9ICcubW9uZGF5JztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVFbGVtID0gJy50dWVzZGF5JztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVFbGVtID0gJy53ZWRuZXNkYXknO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZUVsZW0gPSAnLnRodXJzZGF5JztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVFbGVtID0gJy5mcmlkYXknO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZUVsZW0gPSAnLnNhdHVyZGF5JztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVFbGVtID0gJy5zdW5kYXknO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICgwLCBfd2Vla3MuaW5pdFNsaWRlcikoJCgnLmZsZXgtYWN0aXZlLXNsaWRlJykuZmluZChhY3RpdmVFbGVtKSwgZGF5dGltZV9vbiwgc2xpZGVyUG9wdXApO1xuICAgICAgICAgICAgICAgICAgICAkKCcuZmxleC1hY3RpdmUtc2xpZGUnKS5maW5kKGFjdGl2ZUVsZW0pLmFkZENsYXNzKCdhY3RpdmUtc2xpZGVyJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChkaXNwbGF5ID09ICdibG9jaycpIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYm94Jykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vIENMT1NFUyBXSURHRVRcbiAgICAkKCcuY2xvc2UtYnV0dG9uJykuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYm94Jykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICB9KTtcblxuICAgIC8vIERBWVRJTUUgT05MWSBPRkYgT1IgT05cblxuXG4gICAgJCgnLnN3aXRjaC1vbicpLmNsaWNrKF93ZWVrcy5kYXl0aW1lU2xpZGVyQ2hhbmdlcyk7XG4gICAgJCgnLnN3aXRjaC1vZmYnKS5jbGljayhfd2Vla3MuZGF5dGltZVNsaWRlckNoYW5nZXMpO1xuXG4gICAgLy8gV2hlbiBjbGlja2luZyBvbiB0aGUgYXJyb3dzIGdlbmVyYXRlIHdlZWtzXG4gICAgZnVuY3Rpb24gc2V0V2Vla1RleHQod2Vlaykge1xuICAgICAgICB2YXIgbSA9IHdlZWsgPyBtb21lbnQoKS53ZWVrKHdlZWspIDogbW9tZW50KCk7XG4gICAgICAgIHZhciBtb25kYXkgPSBtLmlzb1dlZWtkYXkoMSkuZm9ybWF0KCdERCcpO1xuICAgICAgICB2YXIgc3VuZGF5ID0gbS5pc29XZWVrZGF5KDcpLmZvcm1hdCgnREQnKTtcbiAgICAgICAgdmFyIHRoaXNNb250aCA9IG0uZm9ybWF0KCdNTScpO1xuICAgICAgICAkKCcuaXRlbS13ZWVrJykuaHRtbCgnV2VlayAnICsgbW9uZGF5ICsgJy0nICsgc3VuZGF5ICsgJy4nICsgdGhpc01vbnRoKTtcbiAgICB9XG5cbiAgICB2YXIgdGhpc1dlZWsgPSBtb21lbnQoKS53ZWVrKCk7XG4gICAgdmFyIHdlZWsgPSBtb21lbnQoKS53ZWVrKCk7XG4gICAgc2V0V2Vla1RleHQod2Vlayk7XG4gICAgaWYgKHdlZWsgPT0gdGhpc1dlZWspIHtcbiAgICAgICAgJCgnLmZsZXgtcHJldicpLmhpZGUoKTtcbiAgICAgICAgJCgnLmZsZXgtcHJldi1ibG9jaycpLnNob3coKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICAkKCcuZmxleC1wcmV2LWJsb2NrJykuaGlkZSgpO1xuICAgICAgICAkKCcuZmxleC1wcmV2Jykuc2hvdygpO1xuICAgIH1cblxuICAgICQoJy5mbGV4LW5leHQnKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICQoJy5mbGV4LXByZXYnKS5zaG93KCk7XG4gICAgICAgICQoJy5mbGV4LXByZXYtYmxvY2snKS5oaWRlKCk7XG5cbiAgICAgICAgdmFyIHNsaWRlSW5kZXggPSAoMCwgX3dlZWtzLmdldEl0ZW1zKSgpLmluZGV4KCQoJy5mbGV4LWFjdGl2ZS1zbGlkZScpKTtcbiAgICAgICAgY29uc29sZS5sb2coc2xpZGVJbmRleCk7XG4gICAgICAgIGlmICh3ZWVrID09IHRoaXNXZWVrKSB7XG4gICAgICAgICAgICB3ZWVrID0gdGhpc1dlZWsgKyAxO1xuICAgICAgICB9IGVsc2UgaWYgKHdlZWsgPT0gcHJldldlZWspIHtcbiAgICAgICAgICAgIHdlZWsgPSBwcmV2V2VlayArIDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB3ZWVrID0gd2VlayArIDE7XG4gICAgICAgIH1cbiAgICAgICAgc2V0V2Vla1RleHQod2Vlayk7XG4gICAgfSk7XG5cbiAgICB2YXIgdGhlV2VlayA9IHdlZWs7XG4gICAgdmFyIHByZXZXZWVrO1xuICAgICQoJy5mbGV4LXByZXYnKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh3ZWVrID09IHRoaXNXZWVrKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB3ZWVrID0gd2VlayAtIDE7XG4gICAgICAgIH1cbiAgICAgICAgdGhlV2VlayA9IHdlZWs7XG4gICAgICAgIGlmICh0aGVXZWVrID09IHRoaXNXZWVrKSB7XG4gICAgICAgICAgICAkKCcuZmxleC1wcmV2JykuaGlkZSgpO1xuICAgICAgICAgICAgJCgnLmZsZXgtcHJldi1ibG9jaycpLnNob3coKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICQoJy5mbGV4LXByZXYnKS5zaG93KCk7XG4gICAgICAgICAgICAkKCcuZmxleC1wcmV2LWJsb2NrJykuaGlkZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgc2V0V2Vla1RleHQod2Vlayk7XG5cbiAgICAgICAgcHJldldlZWsgPSB3ZWVrO1xuICAgIH0pO1xuXG4gICAgLy8gQUREIEFORCBERUwgQlVUVE9OXG4gICAgJCgnLmRlZmF1bHQtd3JhcCcpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJCgnLndlZG5lc2RheScpLmFkZENsYXNzKCd0d29IYW5kbGVzJyk7XG4gICAgICAgICQodGhpcykuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJCgnLndlZG5lc2RheScpLnNsaWRlcih7XG4gICAgICAgICAgICAgICAgdmFsdWVzOiBbMTMsIDE0LCAxNV1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn0pO1xuXG4vLyBUT0RPIG5ldyB3ZWVrIGdlbmVyYXRpbmdcbi8vIFRPRE8gY2hvb3NpbmcgYSBzbGlkZXIgbWFrZXMgaXQgYSBkaWZmLiBjb2xvciwgZGVsZXRlIGJ1dHRvbiBkZWxldGVzIGl0XG4vLyBUT0RPIGFkZCBidXR0b24gLSBhZGQgYSBuZXcgc2xpZGVyIHRvIG1vbmRheVxuXG59LHtcIi4vd2Vla3NcIjoyfV0sMjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4ndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuaW5pdFNsaWRlciA9IGluaXRTbGlkZXI7XG5leHBvcnRzLmdldEl0ZW1zID0gZ2V0SXRlbXM7XG5leHBvcnRzLmFkZExhc3RXZWVrU2xpZGUgPSBhZGRMYXN0V2Vla1NsaWRlO1xuZXhwb3J0cy5kYXl0aW1lU2xpZGVyQ2hhbmdlcyA9IGRheXRpbWVTbGlkZXJDaGFuZ2VzO1xuZnVuY3Rpb24gaW5pdFNsaWRlcihzZWxlY3RvciwgZGF5dGltZV9vbiwgc2xpZGVyUG9wdXAsIHZhbHVlKSB7XG4gICAgY29uc29sZS5sb2coc2VsZWN0b3IpO1xuICAgIHNlbGVjdG9yLnNsaWRlcih7XG4gICAgICAgIG9yaWVudGF0aW9uOiAndmVydGljYWwnLFxuICAgICAgICBtaW46IGRheXRpbWVfb24gPyA0IDogMCxcbiAgICAgICAgbWF4OiBkYXl0aW1lX29uID8gMTQgOiAyMyxcbiAgICAgICAgdmFsdWU6IHZhbHVlID8gdmFsdWUgOiAyMyAtIChtb21lbnQoKS5ob3VyKCkgKyAxKSxcbiAgICAgICAgc3RlcDogMSxcbiAgICAgICAgYW5pbWF0ZTogdHJ1ZSxcbiAgICAgICAgc3RhcnQ6IGZ1bmN0aW9uIHN0YXJ0KGUsIHVpKSB7XG4gICAgICAgICAgICB2YXIgdiA9IDIzIC0gdWkudmFsdWU7XG4gICAgICAgICAgICBzbGlkZXJQb3B1cC50ZXh0KHYpO1xuICAgICAgICAgICAgc2xpZGVyUG9wdXAuc2hvdygpO1xuICAgICAgICAgICAgc2xpZGVyUG9wdXAuY3NzKCd0b3AnLCB1aS5oYW5kbGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wIC0gMTApO1xuICAgICAgICAgICAgc2xpZGVyUG9wdXAuY3NzKCdsZWZ0JywgdWkuaGFuZGxlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQgKyAzMCk7XG4gICAgICAgIH0sXG4gICAgICAgIHNsaWRlOiBmdW5jdGlvbiBzbGlkZShlLCB1aSkge1xuICAgICAgICAgICAgdmFyIHYgPSAyMyAtIHVpLnZhbHVlO1xuICAgICAgICAgICAgc2xpZGVyUG9wdXAudGV4dCh2KTtcbiAgICAgICAgICAgIHNsaWRlclBvcHVwLmNzcygndG9wJywgdWkuaGFuZGxlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCAtIDEwKTtcbiAgICAgICAgICAgIHNsaWRlclBvcHVwLmNzcygnbGVmdCcsIHVpLmhhbmRsZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0ICsgMzApO1xuICAgICAgICAgICAgJChcIi5jb250ZW50U2xpZGVyXCIpLmh0bWwodiArICcgaG91cicpO1xuICAgICAgICB9LFxuICAgICAgICBzdG9wOiBmdW5jdGlvbiBzdG9wKCkge1xuICAgICAgICAgICAgc2xpZGVyUG9wdXAuaGlkZSgpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGdldEl0ZW1zKCkge1xuICAgIHJldHVybiAkKCcuZmxleHNsaWRlciAuc2xpZGVzIC5pdGVtOm5vdCguY2xvbmUpJyk7XG59XG5cbmZ1bmN0aW9uIGFkZExhc3RXZWVrU2xpZGUoc2VsZWN0b3IpIHtcbiAgICB2YXIgY3R4ID0gc2VsZWN0b3IuZGF0YSgnZmxleHNsaWRlcicpO1xuICAgIGNvbnNvbGUubG9nKGN0eCk7XG5cbiAgICB2YXIgdGVtcGxhdGUgPSAkKCc8bGkgY2xhc3M9XCJpdGVtXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpdGVtLXdlZWtcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNjYWxlLXdyYXBwZXJcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dWwgY2xhc3M9XCJsaXN0LXNjYWxlLXdyYXBcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPVwidGltZXMtd3JhcC1sZWZ0XCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGltZS1taW5cIj4wMDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRpbWUtbWF4XCI+MjQ8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPVwic2NhbGUtaXRlbVwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRheVwiPk1vbjwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImFkZC10aW1lcy1sZWZ0XCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRlZmF1bHQtd3JhcFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibW9uZGF5IGRlZmF1bHQtc2xpZGVyIHNsaWRlLWFjdGl2ZVwiPjwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz1cInNjYWxlLWl0ZW1cIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkYXlcIj5UdWU8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkZWZhdWx0LXdyYXBcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZGVmYXVsdC1zbGlkZXIgIHR1ZXNkYXlcIj48L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XCJzY2FsZS1pdGVtXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZGF5XCI+V2VkPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZGVmYXVsdC13cmFwXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRlZmF1bHQtc2xpZGVyIHdlZG5lc2RheVwiPjwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz1cInNjYWxlLWl0ZW1cIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkYXlcIj5UaDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj48L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkZWZhdWx0LXdyYXBcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZGVmYXVsdC1zbGlkZXIgdGh1cnNkYXlcIj48L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XCJzY2FsZS1pdGVtXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZGF5XCI+RnI8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkZWZhdWx0LXdyYXBcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZGVmYXVsdC1zbGlkZXIgIGZyaWRheVwiPjwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz1cInNjYWxlLWl0ZW1cIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkYXlcIj5TYXQ8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkZWZhdWx0LXdyYXBcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZGVmYXVsdC1zbGlkZXIgIHNhdHVyZGF5XCI+PC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPVwic2NhbGUtaXRlbVwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRheVwiPlN1bjwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImFkZC10aW1lcy1yaWdodFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkZWZhdWx0LXdyYXBcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRlZmF1bHQtc2xpZGVyICBzdW5kYXlcIj48L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XCJ0aW1lcy13cmFwLXJpZ2h0XCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGltZS1taW5cIj4wMDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRpbWUtbWF4XCI+MjQ8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3VsPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+Jyk7XG4gICAgY3R4LmFkZFNsaWRlKHRlbXBsYXRlKTtcbiAgICBjb25zb2xlLmxvZyhjdHgpO1xufVxuXG52YXIgZGF5dGltZV9vbiA9IHRydWU7XG5mdW5jdGlvbiBkYXl0aW1lU2xpZGVyQ2hhbmdlcygpIHtcbiAgICBpZiAoZGF5dGltZV9vbikge1xuICAgICAgICAkKCcuc3dpdGNoLW9uJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAkKCcuc3dpdGNoLW9mZicpLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgJCgnLmRlZmF1bHQtd3JhcCcpLmFkZENsYXNzKCdzbGlkZS13cmFwJyk7XG4gICAgICAgICQoJy5kZWZhdWx0LXNsaWRlcicpLmFkZENsYXNzKCdzbGlkZXInKTtcbiAgICAgICAgJCgnLnNsaWRlcicpLnJlbW92ZUNsYXNzKCdkZWZhdWx0LXNsaWRlcicpO1xuXG4gICAgICAgICQoJy5zbGlkZXInKS5zbGlkZXIoe1xuICAgICAgICAgICAgbWluOiAwLFxuICAgICAgICAgICAgbWF4OiAyM1xuICAgICAgICB9KTtcblxuICAgICAgICBkYXl0aW1lX29uID0gZmFsc2U7XG4gICAgfSBlbHNlIGlmIChkYXl0aW1lX29uID09IGZhbHNlKSB7XG4gICAgICAgICQoJy5zd2l0Y2gtb2ZmJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAkKCcuc3dpdGNoLW9uJykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAkKCcuc2xpZGUtd3JhcCcpLmFkZENsYXNzKCdkZWZhdWx0LXdyYXAnKTtcbiAgICAgICAgJCgnLmRlZmF1bHQtd3JhcCcpLnJlbW92ZUNsYXNzKCdzbGlkZS13cmFwJyk7XG4gICAgICAgICQoJy5zbGlkZXInKS5hZGRDbGFzcygnZGVmYXVsdC1zbGlkZXInKTtcbiAgICAgICAgJCgnLmRlZmF1bHQtc2xpZGVyJykucmVtb3ZlQ2xhc3MoJ3NsaWRlcicpO1xuXG4gICAgICAgICQoJy5kZWZhdWx0LXNsaWRlcicpLnNsaWRlcih7XG4gICAgICAgICAgICBtaW46IDQsXG4gICAgICAgICAgICBtYXg6IDE0XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGRheXRpbWVfb24gPSB0cnVlO1xuICAgIH1cbn1cblxufSx7fV19LHt9LFsxXSk7XG4iXX0=
